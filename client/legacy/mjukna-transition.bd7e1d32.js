import{n as t,J as n,K as e}from"./client.f5a6df07.js";function r(t){var n=t-1;return n*n*n+1}function o(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,n){if(!t)return;if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}(t))){var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function a(t,n,e,r){t.forEach(function(t,o){e[o]=t+(n[o]-t)*r})}function c(t){var e={stopped:!1},r=function(t){e.stopped||window.requestAnimationFrame(t)};return r.isStopped=function(){return e.stopped},function(t,e){var r=t.stiffness||10,o=t.damping||.5,i=!!t.noOvershoot,c=t.velocity||0,u=t.from,s=t.to,f=n(t.from),l=0;e(function n(){if(!e.isStopped()){if(l+=c+=r/100*(1-l)-c*o,i&&l>1&&(c*=-1,l=1-(l-1)),Math.abs(l-1)<.001&&Math.abs(c)<.001)return a(u,s,f,1),t.update(s),void(t.done&&t.done());a(u,s,f,l),t.update(f),e(n)}})}(t,r),function(){e.stopped=!0}}function u(t,n,e){e[0]=t[0]*n[0]+t[1]*n[3]+t[2]*n[6],e[1]=t[0]*n[1]+t[1]*n[4]+t[2]*n[7],e[2]=t[0]*n[2]+t[1]*n[5]+t[2]*n[8],e[3]=t[3]*n[0]+t[4]*n[3]+t[5]*n[6],e[4]=t[3]*n[1]+t[4]*n[4]+t[5]*n[7],e[5]=t[3]*n[2]+t[4]*n[5]+t[5]*n[8],e[6]=t[6]*n[0]+t[7]*n[3]+t[8]*n[6],e[7]=t[6]*n[1]+t[7]*n[4]+t[8]*n[7],e[8]=t[6]*n[2]+t[7]*n[5]+t[8]*n[8]}function s(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1}function f(t,n){n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8]}var l=new Float32Array(9),p=new Float32Array(9);function d(){var t=new Float32Array(9);return s(t),{t:function(n,e){return f(t,l),function(t,n,e){t[0]=1,t[1]=0,t[2]=n,t[3]=0,t[4]=1,t[5]=e,t[6]=0,t[7]=0,t[8]=1}(p,n,e),u(l,p,t),this},s:function(n,e){return f(t,l),function(t,n,e){t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(p,n,e),u(l,p,t),this},css:function(){return"matrix(".concat(t[0].toFixed(5),", ").concat(t[1].toFixed(5),", ").concat(t[3].toFixed(5),", ").concat(t[4].toFixed(5),", ").concat(t[2].toFixed(5),", ").concat(t[5].toFixed(5),")")},clear:function(){return s(t),this}}}var m=d();function y(t){return m.clear().s(t,t).css()}function h(n,e,r,o,i){n.style.opacity=e[0],n.style.transform=y(e[1]),c(Object.assign({from:e,to:r,update:function(e){var r=t(e,2),o=r[0],i=r[1];n.style.opacity=o,n.style.transform=y(i)},done:function(){n.style.opacity=r[0],n.style.transform=y(r[1]),i()}},o))}function v(t,n){return{left:n.left-t.left,top:n.top-t.top,width:n.width,height:n.height}}var g,w=d(),b={childList:!0,subtree:!0,attributes:!0},x=function(t,n){return 0===n?t():setTimeout(t,n)},A=[],P={},S=[],F=function(){};function j(){g||(g=new MutationObserver(function(e){g.disconnect();var r,i=0,a=function(){var t=i;return i+=P.staggerBy,t},u=e.filter(function(t){var n=t.type;return"childList"===n}),s=u.map(function(t){return Array.from(t.addedNodes)}).reduce(function(t,n){return t.concat(n)},[]).filter(function(t){var n=t.nodeType;return 1===n}),f=[],l=o(u);try{for(l.s();!(r=l.n()).done;){var p,d=r.value,m=o(d.removedNodes);try{var y=function(){var t=p.value,n=A.find(function(n){return n.getElement()===t}),e=s.includes(t);n&&!e&&f.push([n,d.target])};for(m.s();!(p=m.n()).done;)y()}catch(t){m.e(t)}finally{m.f()}}}catch(t){l.e(t)}finally{l.f()}var b=s.filter(function(t){return P.enterFilter(t)}).filter(function(t){return!A.find(function(n){return t===n.getElement()})}),j=A.filter(function(t){return t.getElement().parentNode});Promise.all([].concat(f.map(function(n){var e=t(n,2),r=e[0],o=e[1];return function(t,n,e){var r=t.previousPosition,o=t.getElement();n.appendChild(o),o.style.position="absolute",o.style.width="".concat(r.width,"px"),o.style.height="".concat(r.height,"px"),o.style.top=0,o.style.left=0;var i=o.getBoundingClientRect(),a=i.left-r.left,c=i.top-r.top;return o.style.willChange="transform, opacity",o.style.top="".concat(-c,"px"),o.style.left="".concat(-a,"px"),new Promise(function(t){x(function(){var n=function(){o.remove(),t()};if(P.exitAnimation)return P.exitAnimation(o,n);!function(t,n,e){h(t,[1,1],[0,.8],n,e)}(o,P.spring,n)},e())})}(r,o,a)})).concat(function(e,r){var o=function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.forEach(function(n){e.push(n),t(n.children,e)}),e}(function t(n){return n.map(function(n){var e,r,o=n.previousPosition,i=n.element.getBoundingClientRect(),a={x:o.width/i.width,y:o.height/i.height};return n.newPosition=n.parent?v(n.parent.newPosition,i):i,n.parentScale=n.parent?(e=n.parent.scale,{x:(r=n.parent.parentScale).x*e.x,y:r.y*e.y}):{x:1,y:1},n.scale=a,n.previousPosition=n.parent?v(n.parent.previousPosition,o):o,n.children=t(n.children),n})}(e.map(function(t){return Object.assign(t,{mjuk:t,element:t.getElement()})}).reduce(function(t,e){return function t(e,r,o){r.element.style.transform="";var i=e.find(function(t){return t.element.contains(r.element)});if(i)return e.map(function(n){return n===i?Object.assign(n,{parent:o,children:t(i.children,r,i)}):n});var a=e.filter(function(t){return r.element.contains(t.element)}),c=e.filter(function(t){return!r.element.contains(t.element)}),u=Object.assign(r,{parent:o,children:a});return function(t,n){t.forEach(function(t){t.parent=n})}(u.children,u),[].concat(n(c),[u])}(t,e)},[]))).map(function(n){return function(n,e){var r=n.parentScale,o=n.element,i=n.scale,a=n.previousPosition,u=n.newPosition,s=a.left+a.width/2-(u.left+u.width/2),f=a.top+a.height/2-(u.top+u.height/2),l=i.x,p=i.y,d=u.left+u.width/2,m=u.top+u.height/2;o.style.willChange="transform",o.style.transform=w.clear().t(-d,-m).s(1/r.x,1/r.y).t(d,m).t(s,f).s(l,p).css();var y=[o,void 0,function(){}];return S.push(y),new Promise(function(n){y[1]=x(function(){y[2]=c(Object.assign({from:[s,f,l,p,r.x,r.y],to:[0,0,1,1,1,1],update:function(n){var e=t(n,6),r=e[0],i=e[1],a=e[2],c=e[3],u=e[4],s=e[5];o.style.transform=w.clear().t(-d,-m).s(1/u,1/s).t(d,m).t(r,i).s(a,c).css()},done:function(){o.style.transform="",n()}},P.spring))},e())})}(n,r)});return A=[],Promise.all(o)}(j,a)).concat(b.map(function(t){return function(t,n){return t.style.willChange="transform, opacity",new Promise(function(e){x(function(){if(P.enterAnimation)return P.enterAnimation(t,e);!function(t,n,e){h(t,[0,.8],[1,1],n,e)}(t,P.spring,e)},n())})}(t,a)}))).then(F)})),g.observe(document,b)}var C=function(){return!1};function E(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(),new Promise(function(r){F=r,P={spring:e.spring,staggerBy:e.staggerBy||0,enterFilter:e.enterFilter||C,enterAnimation:e.enterAnimation};var i,a=o(Number.isInteger(n.length)?n:[].concat(n));try{var c=function(){var n=i.value,e=n.anchor?n.element:function(){return n};S=S.filter(function(n){var r=t(n,3),o=r[0],i=r[1],a=r[2];return o===e()&&(clearInterval(i),a()),o!==e()});var r={getElement:e,previousPosition:n.anchor?n.anchor.getBoundingClientRect():e().getBoundingClientRect(),stop:function(){}};A.push(r)};for(a.s();!(i=a.n()).done;)c()}catch(t){a.e(t)}finally{a.f()}})}var O=function(t,e){console.log("running mjuknaTransition for "+e.test),console.log(t),console.log("transition - node key = ".concat(t.getAttribute("transition-key")));var r='[transition-key="'.concat(t.getAttribute("transition-key"),'"]');console.log(r);var o=n(document.querySelectorAll(r)).filter(function(n){return n!=t})[0];console.log("elements = ",document.querySelectorAll(r)),console.log("anchor = ",o),t.setAttribute("style","opacity: 0;"),E({anchor:o,element:function(){return t}}),t.setAttribute("style","opacity: 1;"),console.log("breakpt")},k=function(t){var n=+getComputedStyle(t).opacity;return{delay:0,duration:0,easing:e,css:function(t){return"opacity: ".concat(t*n)}}};export{k as a,r as c,E as m,O as s};
